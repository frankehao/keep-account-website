(this["webpackJsonpmorney-13"]=this["webpackJsonpmorney-13"]||[]).push([[0],{34:function(n,e,t){n.exports=t(51)},39:function(n,e,t){var a={"./chart.svg":40,"./left.svg":41,"./money.svg":42,"./right.svg":43,"./tag.svg":44};function r(n){var e=l(n);return t(e)}function l(n){if(!t.o(a,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return a[n]}r.keys=function(){return Object.keys(a)},r.resolve=l,n.exports=r,r.id=39},40:function(n,e,t){"use strict";t.r(e);var a=t(7),r=t.n(a),l=t(8),c=t.n(l),i=new r.a({id:"chart",use:"chart-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="chart"><defs><style></style></defs><path d="M1024 896v128H0V0h128v440.64l278.72-183.872 14.016 20.8 8.704-6.912 208.512 257.856 310.4-204.8 75.136 111.488L617.28 703.168l-14.016-20.8-8.704 6.912-208.512-257.92L128 601.6V896h896z" /></symbol>'});c.a.add(i);e.default=i},41:function(n,e,t){"use strict";t.r(e);var a=t(7),r=t.n(a),l=t(8),c=t.n(l),i=new r.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><defs><style></style></defs><path d="M280.947 512.143l40.18 40.204.171-.17 381.576 381.606 40.18-40.18L361.473 512l381.58-381.607-40.18-40.175-421.926 421.926zm0 0z" /></symbol>'});c.a.add(i);e.default=i},42:function(n,e,t){"use strict";t.r(e);var a=t(7),r=t.n(a),l=t(8),c=t.n(l),i=new r.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style></style></defs><path d="M851.2 57.6L608 465.067h211.2V537.6H561.067v115.2h260.266v72.533H561.067V966.4h-96V725.333H206.933V652.8h258.134V537.6H206.933v-72.533h211.2L172.8 57.6h106.667l234.666 401.067L746.667 57.6H851.2z" /></symbol>'});c.a.add(i);e.default=i},43:function(n,e,t){"use strict";t.r(e);var a=t(7),r=t.n(a),l=t(8),c=t.n(l),i=new r.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style></style></defs><path d="M743.053 511.857l-40.18-40.204-.171.17L321.126 90.218l-40.18 40.18L662.527 512l-381.58 381.607 40.18 40.175 421.926-421.926zm0 0z" /></symbol>'});c.a.add(i);e.default=i},44:function(n,e,t){"use strict";t.r(e);var a=t(7),r=t.n(a),l=t(8),c=t.n(l),i=new r.a({id:"tag",use:"tag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="tag"><defs><style></style></defs><path d="M495.961 732.904l-332.63 247.687V21.748h665.261v958.843zm52.04-69.952l193.424 144.045v-497.29H250.54v497.29l193.381-144.045 52.04-38.79zm193.424-440.195V108.959H250.54v113.58z" /></symbol>'});c.a.add(i);e.default=i},50:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var a,r=t(0),l=t.n(r),c=t(26),i=t.n(c),o=t(1),u=t(10),s=t(11),d=t(19),f=t(4),m=t(2),g=t(20),p=t(27),h=t.n(p);try{(a=t(39)).keys().forEach(a)}catch(Sn){console.log(Sn)}var v=function(n){n.name,n.children;var e=n.className,t=Object(g.a)(n,["name","children","className"]);return l.a.createElement("svg",Object.assign({className:h()("icon",e)},t),n.name&&l.a.createElement("use",{xlinkHref:"#"+n.name}))};function b(){var n=Object(o.a)(["\n  background: #ffffff;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  > ul {\n    display: flex;\n\n    > li {\n      width: 33.3333%;\n      text-align: center;\n      .icon {\n        width: 24px;\n        height: 24px;\n      }\n      > a {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 4px 0px;\n        &.selected {\n          color: red;\n          .icon {\n            fill: red;\n          }\n        }\n      }\n    }\n  }\n"]);return b=function(){return n},n}var x=m.a.nav(b()),E=function(){return l.a.createElement(x,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(u.c,{to:"/tags",activeClassName:"selected"},l.a.createElement(v,{name:"tag"}),"\u6807\u7b7e\u9875")),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/money",activeClassName:"selected"},l.a.createElement(v,{name:"money"}),"\u8bb0\u8d26\u9875")),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/statistics",activeClassName:"selected"},l.a.createElement(v,{name:"chart"}),"\u7edf\u8ba1\u9875"))))};function w(){var n=Object(o.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]);return w=function(){return n},n}function O(){var n=Object(o.a)(["\n  flex-grow: 1;\n  overflow: auto;\n"]);return O=function(){return n},n}var y=m.a.div(O()),j=m.a.div(w()),k=function(n){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){setTimeout((function(){e.current&&(e.current.scrollTop=n.scrollTop)}),0)}),[n.scrollTop]),l.a.createElement(j,null,l.a.createElement(y,{ref:e,className:n.className},n.children),l.a.createElement(E,null))};k.defaultProps={scrollTop:0};var N=k,C=t(13),S=parseInt(window.localStorage.getItem("inMax")||"0"),z=function(){return S+=1,window.localStorage.setItem("idMax",JSON.stringify(S)),S},T=function(n,e){var t=Object(r.useRef)(0);Object(r.useEffect)((function(){t.current+=1})),Object(r.useEffect)((function(){t.current>1&&n()}),[n,e])},I=function(){var n=Object(r.useState)([]),e=Object(f.a)(n,2),t=e[0],a=e[1];Object(r.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("tags")||"[]");0===n.length&&(n=[{id:z(),name:"\u8863"},{id:z(),name:"\u98df"},{id:z(),name:"\u4f4f"},{id:z(),name:"\u884c"}]),a(n)}),[]),T((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),[t]);return{tags:t,getName:function(n){var e=t.filter((function(e){return e.id===n}))[0];return e?e.name:""},addTag:function(){var n=window.prompt("\u65b0\u6807\u7b7e\u7684\u540d\u79f0\u4e3a");null!==n&&""!==n&&a([].concat(Object(C.a)(t),[{id:z(),name:n}]))},setTags:a,findTag:function(n){return t.filter((function(e){return e.id===n}))[0]},updateTag:function(n,e){var r=e.name;a(t.map((function(e){return e.id===n?{id:n,name:r}:e})))},findTagIndex:function(n){for(var e=-1,a=0;a<t.length;a++)if(t[a].id===n){e=a;break}return e},deleteTag:function(n){a(t.filter((function(e){return e.id!==n})))}}};function B(){var n=Object(o.a)(["\n  background: #FFFFFF;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n\n  > ol {\n    margin: 0 -12px;\n\n    > li {\n      background: #D9D9D9;\n      border-radius: 18px;\n      display: inline-block;\n      padding: 3px 18px;\n      font-size: 14px;\n      margin: 8px 12px;\n\n      &.selected {\n        background: #f60;\n      }\n    }\n  }\n\n  > button {\n    background: none;\n    border: none;\n    padding: 2px 4px;\n    border-bottom: 1px solid #333;\n    color: #666;\n    margin-top: 8px;\n  }\n"]);return B=function(){return n},n}var L=m.a.section(B()),M=function(n){var e=I(),t=e.tags,a=e.addTag,r=n.value;return l.a.createElement(L,null,l.a.createElement("ol",null,t.map((function(e){return l.a.createElement("li",{key:e.id,onClick:function(){var t;t=e.id,r.indexOf(t)>=0?n.onChange(r.filter((function(n){return n!==t}))):n.onChange([].concat(Object(C.a)(r),[t]))},className:(t=e.id,r.indexOf(t)>=0?"selected":"")},e.name);var t}))),l.a.createElement("button",{onClick:a},"\u65b0\u589e\u6807\u7b7e"))};function H(){var n=Object(o.a)(["\n  font-size: 24px;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 50%;\n      text-align: center;\n      padding: 16px 0;\n      position: relative;\n\n      &.selected::after {\n        content: '';\n        display: block;\n        height: 3px;\n        background: #333;\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        left: 0;\n      }\n    }\n  }\n"]);return H=function(){return n},n}var V=m.a.section(H()),D=function(n){var e=n.value,t=Object(r.useState)(["-","+"]),a=Object(f.a)(t,1)[0],c={"-":"\u652f\u51fa","+":"\u6536\u5165"};return l.a.createElement(V,null,l.a.createElement("ul",null,a.map((function(t){return l.a.createElement("li",{key:t,className:e===t?"selected":"",onClick:function(){n.onChange(t)}},c[t])}))))};function F(){var n=Object(o.a)(["\n  display: flex;\n  align-items: center;\n\n  > span {\n    margin-right: 16px;\n    white-space: nowrap;\n  }\n\n  > input {\n    display: block;\n    width: 100%;\n    height: 44px;\n    background: none;\n    border: none;\n  }\n"]);return F=function(){return n},n}var J=m.a.label(F()),K=function(n){var e=n.label,t=(n.children,Object(g.a)(n,["label","children"]));return l.a.createElement(J,null,l.a.createElement("span",null,e),l.a.createElement("input",t))};function R(){var n=Object(o.a)(["\n  background: #f5f5f5;\n  padding: 14px 16px;\n  font-size: 14px;\n"]);return R=function(){return n},n}var Y=m.a.section(R()),A=function(n){var e=n.value;return l.a.createElement(Y,null,l.a.createElement(K,{label:"\u5907\u6ce8",type:"text",value:e,onChange:function(e){n.onChange(e.target.value)},placeholder:"\u8bf7\u586b\u5199\u5907\u6ce8"}))};function U(){var n=Object(o.a)(["\n  > .output {\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding-right: 6px;\n    box-shadow: inset 0px -1px 2px rgba(0, 0, 0, 0.25);\n  }\n  > .pad {\n    > button {\n      border: none;\n      width: 25%;\n      height: 64px;\n      float: left;\n      &.OK {\n        float: right;\n        height: 128px;\n      }\n      &.zero {\n        width: 50%;\n      }\n      &:nth-child(1) {\n        background: #f2f2f2;\n      }\n      &:nth-child(2),\n      &:nth-child(5) {\n        background: #e0e0e0;\n      }\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9) {\n        background: #d3d3d3;\n      }\n      &:nth-child(4),\n      &:nth-child(7),\n      &:nth-child(10) {\n        background: #c1c1c1;\n      }\n      &:nth-child(8),\n      &:nth-child(11),\n      &:nth-child(13) {\n        background: #b8b8b8;\n      }\n      &:nth-child(12) {\n        background: #9a9a9a;\n      }\n      &:nth-child(14) {\n        background: #a9a9a9;\n      }\n    }\n  }\n"]);return U=function(){return n},n}var _=m.a.section(U()),P=function(n){var e=Object(r.useState)(n.value.toString()),t=Object(f.a)(e,2),a=t[0],c=t[1];return l.a.createElement(_,null,l.a.createElement("div",{className:"output"},a),l.a.createElement("div",{className:"pad clearfix",onClick:function(e){var t=e.target.textContent;null!==t&&("OK"!==t?function(e){var t;t=e.length>16?e.slice(0,16):0===e.length?"0":e,c(t),n.onChange(parseFloat(t))}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";switch(n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return"0"===e?n:e+n;case".":return e.indexOf(".")>=0?e:e+".";case"\u5220\u9664":return 1===e.length?"":e.slice(0,-1)||"";case"\u6e05\u7a7a":default:return""}}(t,a)):n.onOk&&n.onOk())}},l.a.createElement("button",null,"1"),l.a.createElement("button",null,"2"),l.a.createElement("button",null,"3"),l.a.createElement("button",null,"\u5220\u9664"),l.a.createElement("button",null,"4"),l.a.createElement("button",null,"5"),l.a.createElement("button",null,"6"),l.a.createElement("button",null,"\u6e05\u7a7a"),l.a.createElement("button",null,"7"),l.a.createElement("button",null,"8"),l.a.createElement("button",null,"9"),l.a.createElement("button",{className:"OK"},"OK"),l.a.createElement("button",{className:"zero"},"0"),l.a.createElement("button",null,".")))},q=function(){var n=Object(r.useState)([]),e=Object(f.a)(n,2),t=e[0],a=e[1];Object(r.useEffect)((function(){a(JSON.parse(window.localStorage.getItem("records")||"[]"))}),[]),T((function(){window.localStorage.setItem("records",JSON.stringify(t))}),[t]);return{records:t,addRecord:function(n){if(n.amount<=0)return alert("\u8bf7\u8f93\u5165\u91d1\u989d"),!1;if(0===n.tagIds.length)return alert("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1;var e=Object(d.a)({},n,{createdAt:(new Date).toISOString()});return a([].concat(Object(C.a)(t),[e])),!0}}};function G(){var n=Object(o.a)(["\n  background: #c4c4c4;\n"]);return G=function(){return n},n}function Q(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Q=function(){return n},n}var W=Object(m.a)(N)(Q()),X={tagIds:[],note:"",category:"-",amount:0},Z=m.a.div(G());var $=function(){var n=Object(r.useState)(X),e=Object(f.a)(n,2),t=e[0],a=e[1],c=q().addRecord,i=function(n){a(Object(d.a)({},t,{},n))};return l.a.createElement(W,{scrollTop:9999},l.a.createElement(M,{value:t.tagIds,onChange:function(n){return i({tagIds:n})}}),l.a.createElement(A,{value:t.note,onChange:function(n){return i({note:n})}}),l.a.createElement(Z,null,l.a.createElement(D,{value:t.category,onChange:function(n){return i({category:n})}})),l.a.createElement(P,{value:t.amount,onChange:function(n){return i({amount:n})},onOk:function(){c(t)&&(alert("\u4fdd\u5b58\u6210\u529f"),a(X))}}))};var nn=function(){return l.a.createElement("div",null,"\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u4f60\u4e2b\u8f93\u9519\u5730\u5740\u4e86\u5427\uff01")};function en(){var n=Object(o.a)(["\n  font-size: 18px;\n  border: none;\n  padding: 8px 12px;\n  background: #767676;\n  border-radius: 4px;\n  color: white;\n"]);return en=function(){return n},n}var tn=m.a.button(en());function an(){var n=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return an=function(){return n},n}var rn=m.a.div(an());function ln(){var n=Object(o.a)(["\n  height: 16px;\n"]);return ln=function(){return n},n}var cn=m.a.div(ln());function on(){var n=Object(o.a)(["\n  font-size: 16px;\n  background: white;\n\n  > li {\n    border-bottom: 1px solid #d5d5d9;\n    line-height: 20px;\n    margin-left: 16px;\n\n    > a {\n      padding: 12px 16px 12px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n"]);return on=function(){return n},n}var un=m.a.ol(on());var sn=function(){var n=I(),e=n.tags,t=n.addTag;return l.a.createElement(N,null,l.a.createElement(un,null,e.map((function(n){return l.a.createElement("li",{key:n.id},l.a.createElement(u.b,{to:"/tags/"+n.id},l.a.createElement("span",{className:"oneLine"},n.name),l.a.createElement(v,{name:"right"})))})),l.a.createElement(rn,null,l.a.createElement(cn,null),l.a.createElement(cn,null),l.a.createElement(tn,{onClick:t},"\u65b0\u589e\u6807\u7b7e"))))},dn=t(32),fn=t.n(dn);function mn(){var n=Object(o.a)(["\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n"]);return mn=function(){return n},n}function gn(){var n=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n"]);return gn=function(){return n},n}function pn(){var n=Object(o.a)(["\n  background: white;\n"]);return pn=function(){return n},n}var hn=m.a.div(pn()),vn=m.a.div(gn()),bn=m.a.h3(mn());var xn=function(){var n=Object(r.useState)("-"),e=Object(f.a)(n,2),t=e[0],a=e[1],c=q().records,i=I().getName,o={};c.filter((function(n){return n.category===t})).forEach((function(n){var e=fn()(n.createdAt).format("YYYY\u5e74MM\u6708DD\u65e5");e in o||(o[e]=[]),o[e].push(n)}));var u=Object.entries(o).sort((function(n,e){return n[0]===e[0]?0:n[0]>e[0]?-1:n[0]<e[0]?1:0}));return l.a.createElement(N,null,l.a.createElement(hn,null,l.a.createElement(D,{value:t,onChange:function(n){return a(n)}})),u.map((function(n){var e=Object(f.a)(n,2),t=e[0],a=e[1];return l.a.createElement("div",null,l.a.createElement(bn,null,t),l.a.createElement("div",null,a.map((function(n){return l.a.createElement(vn,null,l.a.createElement("div",{className:"tags oneLine"},n.tagIds.map((function(n){return l.a.createElement("span",{key:n},i(n))})).reduce((function(n,e,t,a){return n.concat(t<a.length-1?[e,"\uff0c"]:[e])}),[])),n.note&&l.a.createElement("div",{className:"note"},n.note),l.a.createElement("div",{className:"amount"},"\uffe5",n.amount))}))))})))};function En(){var n=Object(o.a)(["\n  background: white;\n  padding-left: 15px;\n  margin-top: 8px;\n"]);return En=function(){return n},n}function wn(){var n=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  line-height: 14px;\n  padding: 14px;\n  background: white;\n  align-items: center;\n"]);return wn=function(){return n},n}var On=m.a.header(wn()),yn=m.a.div(En()),jn=function(){var n=I(),e=n.findTag,t=n.updateTag,a=n.deleteTag,r=Object(s.h)().id,c=e(parseInt(r)),i=Object(s.g)();return l.a.createElement(N,null,l.a.createElement(On,null,l.a.createElement(v,{name:"left",onClick:function(){i.goBack()}}),l.a.createElement("span",null,"\u7f16\u8f91\u6807\u7b7e"),l.a.createElement(v,null)),c?function(n){return l.a.createElement("div",null,l.a.createElement(yn,null,l.a.createElement(K,{label:"\u6807\u7b7e\u540d",type:"text",placeholder:"\u6807\u7b7e\u540d",value:n.name,onChange:function(e){t(n.id,{name:e.target.value})}})),l.a.createElement(rn,null,l.a.createElement(cn,null),l.a.createElement(cn,null),l.a.createElement(cn,null),l.a.createElement(tn,{onClick:function(){return a(n.id)}}," \u5220\u9664\u6807\u7b7e")))}(c):l.a.createElement(rn,null,"\u6ca1\u6709\u6b64\u6807\u7b7e"))};function kn(){var n=Object(o.a)(["\n  color: #333;\n"]);return kn=function(){return n},n}var Nn=m.a.div(kn());var Cn=function(){return l.a.createElement(Nn,null,l.a.createElement(u.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/tags"},l.a.createElement(sn,null)),l.a.createElement(s.b,{exact:!0,path:"/tags/:id"},l.a.createElement(jn,null)),l.a.createElement(s.b,{exact:!0,path:"/money"},l.a.createElement($,null)),l.a.createElement(s.b,{exact:!0,path:"/statistics"},l.a.createElement(xn,null)),l.a.createElement(s.a,{exact:!0,from:"/",to:"/money"}),l.a.createElement(s.b,{path:"*"},l.a.createElement(nn,null)))))};t(50);i.a.render(l.a.createElement(Cn,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.eb2ca393.chunk.js.map